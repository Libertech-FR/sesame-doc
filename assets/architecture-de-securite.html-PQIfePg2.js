import{_ as e,c as t,o as s,a}from"./app-cyh8NsmD.js";const i="/sesame-doc/assets/sesame-archi.drawio-CG0UBkOK.png",r={},n=a('<h1 id="architecture-de-securite" tabindex="-1"><a class="header-anchor" href="#architecture-de-securite"><span>Architecture de sécurité</span></a></h1><p>L&#39;orchestrator la base mongo, le daemon ne doivent pas être exposés directement sur internet</p><h2 id="architecture-conseillee" tabindex="-1"><a class="header-anchor" href="#architecture-conseillee"><span>Architecture conseillée</span></a></h2><p><img src="'+i+`" alt=""></p><ul><li>Le flux de données entre le navigateur et la gestion des mots de passe est publique (port 80, 443). Le serveur doit être situé dans une zone DMZ</li><li>Le flux de donnée entre la gestion des mot de passe et l&#39;orchestrateur doit etre filtrée. Seul le port 443 est necesaire.</li><li>Le flux entre l&#39;administrateur et le frontal de gestion est qu&#39;en interne</li></ul><h1 id="securisation-des-flux" tabindex="-1"><a class="header-anchor" href="#securisation-des-flux"><span>Sécurisation des flux</span></a></h1><p>Pour sécuriser le flux internet il faut installer un reverse proxy sur le serveur</p><h2 id="serveur-gestion-mdp" tabindex="-1"><a class="header-anchor" href="#serveur-gestion-mdp"><span>Serveur gestion-mdp</span></a></h2><h3 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h3><p>Un script est disponible pour l installation du reverse sur la machine docker hébergant la gestion des mdp</p><ul><li>créez un répertoire ex: &quot;/data/revproxy&quot; et allez dans ce répertoire</li><li>télécharger le script</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line"> curl -L &#39;https://raw.githubusercontent.com/Libertech-FR/sesame-exemple/refs/heads/main/reverse_proxy/gestion-mdp/install.sh&#39; --output install.sh</span>
<span class="line"> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Executez le</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">#bash install.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Le script va créer un certificat auto-signé, créer les fichiers de configuration nginx et docker-compose.yml</p><p>Pour lancer le container :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">#docker compose up -d</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="changement-des-certificats" tabindex="-1"><a class="header-anchor" href="#changement-des-certificats"><span>Changement des certificats</span></a></h3><p>Vous pouvez mettre des certificats officiels</p><ul><li>La clé privée : certs/key.pem</li><li>le certificat : certs/cert.pem</li></ul><h2 id="serveur-orchestrator" tabindex="-1"><a class="header-anchor" href="#serveur-orchestrator"><span>Serveur orchestrator</span></a></h2><p>Un script est disponible pour l installation du reverse sur la machine docker hébergant l&#39;orchestrator et le frontal de d&#39;administration</p><ul><li>créez un répertoire ex: &quot;/data/revproxy&quot; et allez dans ce répertoire</li><li>télécharger le script</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">curl -L &#39;https://raw.githubusercontent.com/Libertech-FR/sesame-exemple/refs/heads/main/reverse_proxy/server/install.sh&#39; --output install.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Executez le</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">#bash install.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Le script va créer un certificat auto-signé, créer les fichiers de configuration nginx et docker-compose.yml</p><p>Pour lancer le container :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">#docker compose up -d</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="changement-des-certificats-1" tabindex="-1"><a class="header-anchor" href="#changement-des-certificats-1"><span>Changement des certificats</span></a></h3><p>Vous pouvez mettre des certificats officiels</p><ul><li>La clé privée : certs/key.pem</li><li>le certificat : certs/cert.pem</li></ul>`,32),l=[n];function c(d,o){return s(),t("div",null,l)}const p=e(r,[["render",c],["__file","architecture-de-securite.html.vue"]]),h=JSON.parse('{"path":"/installation/architecture-de-securite.html","title":"Architecture de sécurité","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Architecture conseillée","slug":"architecture-conseillee","link":"#architecture-conseillee","children":[]},{"level":2,"title":"Serveur gestion-mdp","slug":"serveur-gestion-mdp","link":"#serveur-gestion-mdp","children":[{"level":3,"title":"Installation","slug":"installation","link":"#installation","children":[]},{"level":3,"title":"Changement des certificats","slug":"changement-des-certificats","link":"#changement-des-certificats","children":[]}]},{"level":2,"title":"Serveur orchestrator","slug":"serveur-orchestrator","link":"#serveur-orchestrator","children":[{"level":3,"title":"Changement des certificats","slug":"changement-des-certificats-1","link":"#changement-des-certificats-1","children":[]}]}],"git":{"updatedTime":1733940169000,"contributors":[{"name":"Alain Abbas","email":"alain.abbas@libertech.fr","commits":1}]},"filePathRelative":"installation/architecture-de-securite.md"}');export{p as comp,h as data};
