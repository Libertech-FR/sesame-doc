import{_ as l,r as t,c as o,b as s,d as e,e as a,w as i,a as p,o as r}from"./app-DqeY4j8r.js";const c="/sesame-doc/assets/698bcba4-CiofSyNZ.png",d={},u=p('<h1 id="instalation-du-frontal-de-gestion-de-mot-de-passe" tabindex="-1"><a class="header-anchor" href="#instalation-du-frontal-de-gestion-de-mot-de-passe"><span>Instalation du frontal de gestion de mot de passe</span></a></h1><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><p>Le frontal de gestion du mot de passe va permettre à l&#39;utilisateur de :</p><ul><li>Changer son mot de passe</li><li>demander une reinitialisation du mot de passe</li><li>de valider son compte lors de la premiere connexion <img src="'+c+`" alt=""></li></ul><h2 id="principe" tabindex="-1"><a class="header-anchor" href="#principe"><span>Principe</span></a></h2><p>Le frontal communique avec sesame-orchestrator. Il lui envoie la commande de changement ou de reinitialisation du mot de passe. Si tout est ok l&#39;orchestrateur envoie l&#39;ordre aux differents backends de changer le mot de passe</p><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h2><p>Docker doit être installé (voir l&#39;installation de <a href="/installation/installation-server.html#prerequis" target="_blank" rel="noopener noreferrer">docker</a> )</p><p>Excecutez le shell d installation en copiant cette ligne ci-dessous</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://raw.githubusercontent.com/Libertech-FR/sesame-exemple/main/gestion-mdp/install.sh<span class="token operator">&gt;</span>./install.sh<span class="token punctuation">;</span><span class="token function">bash</span> ./install.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Repondez aux questions</p><p>L&#39;installation a généré un fichier .env et un fichier docker-compose.yml</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># Variables obligatoires</span></span>
<span class="line"><span class="token assign-left variable">API_URL</span><span class="token operator">=</span>http://monserveruSesame:4000</span>
<span class="line"><span class="token assign-left variable">API_KEY</span><span class="token operator">=</span>MACLE_API</span>
<span class="line"><span class="token comment"># Variables facultatives</span></span>
<span class="line"><span class="token assign-left variable">COLOR_PRIMARY</span><span class="token operator">=</span><span class="token string">&#39;#1976d2&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_SECONDARY</span><span class="token operator">=</span><span class="token string">&#39;#26A69A&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_ACCENT</span><span class="token operator">=</span><span class="token string">&#39;#9C27B0&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_DARK</span><span class="token operator">=</span><span class="token string">&#39;#1d1d1d&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_DARK_PAGE</span><span class="token operator">=</span><span class="token string">&#39;#121212&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_POSITIVE</span><span class="token operator">=</span><span class="token string">&#39;#21BA45&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_NEGATIVE</span><span class="token operator">=</span><span class="token string">&#39;#C10015&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_INFO</span><span class="token operator">=</span><span class="token string">&#39;#31CCEC&#39;</span>,</span>
<span class="line"><span class="token assign-left variable">COLOR_WARNING</span><span class="token operator">=</span><span class="token string">&#39;#F2C037&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Exemple du fichier docker-config.yml</p><p>Dans cet exemple le port d&#39;écoute du serveur est 3002</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">sesame-gestion-mdp</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> sesame<span class="token punctuation">-</span>gestion<span class="token punctuation">-</span>mdp</span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> ghcr.io/libertech<span class="token punctuation">-</span>fr/sesame<span class="token punctuation">-</span>gestion<span class="token punctuation">-</span>mdp<span class="token punctuation">:</span>latest</span>
<span class="line">    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always</span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span> </span>
<span class="line">      <span class="token punctuation">-</span> 3002<span class="token punctuation">:</span><span class="token number">3000</span></span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token string">&quot;./config:/data/src/public&quot;</span></span>
<span class="line">    <span class="token key atrule">networks</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> sesame </span>
<span class="line"></span>
<span class="line"><span class="token key atrule">networks</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">sesame</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ATTENTION : Ce fichier docker-compose est donné à des fins de test. Il devra être adapté à votre architecture réseau pour la mise en production</strong></p><h3 id="parametres-du-fichier-env" tabindex="-1"><a class="header-anchor" href="#parametres-du-fichier-env"><span>Paramètres du fichier .env</span></a></h3><h2 id="personalisation-de-l-interface" tabindex="-1"><a class="header-anchor" href="#personalisation-de-l-interface"><span>Personalisation de l&#39;interface</span></a></h2><h3 id="images-et-logo" tabindex="-1"><a class="header-anchor" href="#images-et-logo"><span>Images et logo</span></a></h3><p>L&#39;installation a créé un repertoire config :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">config/faveicon.ico  &lt;--- Icone de l&#39;onglet </span>
<span class="line">config/img/logo.png  &lt;--- Le logo se trouvant sur la page </span>
<span class="line">config/img/background.png &lt;--- Le fond d&#39;ecran</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ces images (logo et background) doivent être au format PNG</p><p><strong>ATTENTION</strong> pensez à vider votre cache quand vous changez les images</p><h3 id="couleurs" tabindex="-1"><a class="header-anchor" href="#couleurs"><span>couleurs</span></a></h3><p>Des variables d&#39;environnement à mettre dans .env permettent de changer les couleurs de bases</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">COLOR_PRIMARY=&#39;#1976d2&#39;,</span>
<span class="line">COLOR_SECONDARY=&#39;#26A69A&#39;,</span>
<span class="line">COLOR_ACCENT=&#39;#9C27B0&#39;,</span>
<span class="line">COLOR_DARK=&#39;#1d1d1d&#39;,</span>
<span class="line">COLOR_DARK_PAGE=&#39;#121212&#39;,</span>
<span class="line">COLOR_POSITIVE=&#39;#21BA45&#39;,</span>
<span class="line">COLOR_NEGATIVE=&#39;#C10015&#39;,</span>
<span class="line">COLOR_INFO=&#39;#31CCEC&#39;,</span>
<span class="line">COLOR_WARNING=&#39;#F2C037&#39;</span>
<span class="line">ACTION=menu</span>
<span class="line">USER_LABEL= Mon email</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="configuration-de-la-page-d-accueil" tabindex="-1"><a class="header-anchor" href="#configuration-de-la-page-d-accueil"><span>configuration de la page d&#39;accueil</span></a></h3><p>La page d&#39;accueil peut être configurée pour via une variable d&#39;environnement à mettre dans .env:</p><ul><li>Avoir un menu : <strong>ACTION=menu</strong></li><li>la page de changement du mot de passe : <strong>ACTION=change</strong></li><li>la page de reinitialisation du mot de passe : <strong>ACTION=reset</strong></li></ul><h3 id="configuration-du-theme-et-couleurs" tabindex="-1"><a class="header-anchor" href="#configuration-du-theme-et-couleurs"><span>configuration du thème et couleurs</span></a></h3><p>Se referer au site de site de quasar.dev pour les explications : <a href="https://quasar.dev/style/theme-builder" target="_blank" rel="noopener noreferrer">Quasar Theme Builder</a></p><h2 id="configuration-de-la-politique-de-mot-de-passe" tabindex="-1"><a class="header-anchor" href="#configuration-de-la-politique-de-mot-de-passe"><span>Configuration de la politique de mot de passe</span></a></h2>`,33),m=s("h2",{id:"modeles-des-mails",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#modeles-des-mails"},[s("span",null,"Modèles des mails")])],-1);function g(v,h){const n=t("RouteLink");return r(),o("div",null,[u,s("p",null,[e("Voir le chapitre "),a(n,{to:"/configuration/config-gestion-mdp.html"},{default:i(()=>[e("Confifuration de la politique de mot de passe")]),_:1})]),m,s("p",null,[e("voir la section configuration "),a(n,{to:"/configuration/config-gestion-mdp.html"},{default:i(()=>[e("/sesame-doc/configuration/config-gestion-mdp.html")]),_:1})])])}const k=l(d,[["render",g],["__file","gestion-mdp.html.vue"]]),f=JSON.parse(`{"path":"/installation/gestion-mdp.html","title":"Installation du frontal de gestion du mot de passe","lang":"en-US","frontmatter":{"lang":"en-US","title":"Installation du frontal de gestion du mot de passe","description":"Installation frontal de gestion du mot de passe"},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Principe","slug":"principe","link":"#principe","children":[]},{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[{"level":3,"title":"Paramètres du fichier .env","slug":"parametres-du-fichier-env","link":"#parametres-du-fichier-env","children":[]}]},{"level":2,"title":"Personalisation de l'interface","slug":"personalisation-de-l-interface","link":"#personalisation-de-l-interface","children":[{"level":3,"title":"Images et logo","slug":"images-et-logo","link":"#images-et-logo","children":[]},{"level":3,"title":"couleurs","slug":"couleurs","link":"#couleurs","children":[]},{"level":3,"title":"configuration de la page d'accueil","slug":"configuration-de-la-page-d-accueil","link":"#configuration-de-la-page-d-accueil","children":[]},{"level":3,"title":"configuration du thème et couleurs","slug":"configuration-du-theme-et-couleurs","link":"#configuration-du-theme-et-couleurs","children":[]}]},{"level":2,"title":"Configuration de la politique de mot de passe","slug":"configuration-de-la-politique-de-mot-de-passe","link":"#configuration-de-la-politique-de-mot-de-passe","children":[]},{"level":2,"title":"Modèles des mails","slug":"modeles-des-mails","link":"#modeles-des-mails","children":[]}],"git":{"updatedTime":1747299892000,"contributors":[{"name":"Alain Abbas","email":"alain.abbas@libertech.fr","commits":4}]},"filePathRelative":"installation/gestion-mdp.md"}`);export{k as comp,f as data};
