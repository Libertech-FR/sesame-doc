import{_ as t,c as e,o as s,a}from"./app-lOtI50eT.js";const r="/sesame-doc/assets/img-B2-tlzT3.png",d="/sesame-doc/assets/img_1-DTkNDGFc.png",n={},i=a(`<h1 id="les-filtres-de-recherches-pour-l-api" tabindex="-1"><a class="header-anchor" href="#les-filtres-de-recherches-pour-l-api"><span>Les filtres de recherches pour l&#39;API</span></a></h1><p>L&#39;api a une fonctionnalité de recherche (<strong>GET /management/identities</strong>) qui permet de rechercher les identités</p><p>Un filtre peut être passé dans l&#39;url de l&#39;api (methode <strong>GET /management/identities</strong>) pour rechercher les identités selon des critère spécifique</p><h2 id="syntaxe-des-filtres-a-passer-en-parametre-dans-l-url" tabindex="-1"><a class="header-anchor" href="#syntaxe-des-filtres-a-passer-en-parametre-dans-l-url"><span>Syntaxe des filtres à passer en paramètre dans l&#39;url</span></a></h2><p>La méthode est GET</p><h3 id="syntaxe" tabindex="-1"><a class="header-anchor" href="#syntaxe"><span>Syntaxe</span></a></h3><p>La syntaxe générale du paramètre est :</p><ul><li>filters[OPERATEUR + CHAMP]=SEARCH</li></ul><h3 id="les-champs" tabindex="-1"><a class="header-anchor" href="#les-champs"><span>Les champs</span></a></h3><table><thead><tr><th>champ</th><th>Description</th></tr></thead><tbody><tr><td>OPERATEUR</td><td>l&#39;opérateur (voir en dessous</td></tr><tr><td>CHAMP</td><td>le champ dans l&#39;identité</td></tr><tr><td>SEARCH</td><td>La chaine recherchée</td></tr></tbody></table><h3 id="les-operateurs" tabindex="-1"><a class="header-anchor" href="#les-operateurs"><span>Les opérateurs</span></a></h3><table><thead><tr><th>Filter</th><th>Description</th></tr></thead><tbody><tr><td>:</td><td>égal</td></tr><tr><td>#</td><td>nombre égal</td></tr><tr><td>!#</td><td>Nombre non égal</td></tr><tr><td>!:</td><td>Non égal</td></tr><tr><td>&gt;</td><td>Nombre plus grand</td></tr><tr><td>&gt;|</td><td>Nombre plus grand ou égal</td></tr><tr><td>&lt;</td><td>Nombre plus petit</td></tr><tr><td>&lt;|</td><td>Nombre plus petit ou égal</td></tr><tr><td>^</td><td>Expression régulière</td></tr><tr><td>@</td><td>dans la liste</td></tr></tbody></table><h3 id="exemples" tabindex="-1"><a class="header-anchor" href="#exemples"><span>Exemples</span></a></h3><p>Vous pouvez tester votre filtre et confectionner votre requete à l&#39;aide de swagger qui est disponible sur l&#39;orchestrator à L&#39;url : https://monOrchestrator:4443/swagger</p><ul><li>Rechercher l&#39;uid = &quot;toto&quot;</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">filters[:inetOrgPerson.uid]=edurand</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Dans l&#39;interface swagger le filtre se saisit en JSON :</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line"> <span class="token property">&quot;:inetOrgPerson.uid&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;edurand&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+`" alt="img.png"></p><ul><li>Rechercher tous les identités qui ne sont pas &quot;adm&quot;</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">filters[!additionalFields.attributes.supannPerson.supannEntiteAffectationPrincipale]=adm</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Dans l&#39;interface swagger le filtre se saisit en JSON :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">{</span>
<span class="line"> &quot;!additionalFields.attributes.supannPerson.supannEntiteAffectationPrincipale&quot; : &quot;adm&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+d+`" alt="img_1.png"></p><ul><li>Rechercher les identités qui ont le dataStatus à -2 OU -3 (operateur @)</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">filters[@dataStatus][]=-2&amp;filters[@dataStatus][]=-3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Rechercher les identités qui ont dataStatus à -2 ET state à 99</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">filters[:dataStatus]=-2&amp;filters[:state]=99</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="champs-struturels" tabindex="-1"><a class="header-anchor" href="#champs-struturels"><span>Champs struturels</span></a></h2><p>Voici la liste des champs structurels disponibles dans une identité</p><table><thead><tr><th>Champ</th><th>Description</th></tr></thead><tbody><tr><td><strong>state</strong></td><td>Etat de l&#39;identité</td></tr><tr><td></td><td>0 : indeterminé</td></tr><tr><td></td><td>1 : à valider</td></tr><tr><td></td><td>2 : à synchroniser (envoi aux backends</td></tr><tr><td></td><td>50 : En cours de synchronisation</td></tr><tr><td></td><td>99 : synchronisée</td></tr><tr><td></td><td>-2 : à compléter</td></tr><tr><td></td><td>-3 : en erreur</td></tr><tr><td></td><td>-99 : ne plus synchroniser (envoi aux backends)</td></tr><tr><td><strong>initState</strong></td><td>Statut d&#39;envoi du mail de réinitialisation du mot de passe</td></tr><tr><td></td><td>0 : le mail n&#39;a jamais été envoyé</td></tr><tr><td></td><td>1 : Le mail a été envoyé</td></tr><tr><td></td><td>2 : le compte a été activé</td></tr><tr><td><strong>dataStatus</strong></td><td>Etat d&#39;activation de l&#39;identité</td></tr><tr><td></td><td>0 : Identité non initialisée</td></tr><tr><td></td><td>1 : l&#39;identité est active</td></tr><tr><td></td><td>-1 : l&#39;identité est supprimée et ne doit plus être importée</td></tr><tr><td></td><td>-2 : l&#39;identité doit changer sont mot de passe</td></tr><tr><td></td><td>-3 : l&#39;identité est désactivée</td></tr><tr><td><strong>lastSyncBackend</strong></td><td>Dernier envoi de l&#39;identité aux backends</td></tr><tr><td><strong>lastSync</strong></td><td>(TAIGA) date de derniere synchro depuis taiga</td></tr><tr><td><strong>_id</strong></td><td>Index unique de l&#39;identité</td></tr><tr><td><strong>deletedFlag</strong></td><td>true ou false Identité supprimée</td></tr><tr><td><strong>fingerprint</strong></td><td>Hash de l&#39;identité</td></tr><tr><td><strong>metadata.createdBy</strong></td><td>Utilisateur qui a créé l&#39;identité</td></tr><tr><td><strong>metadata.createdAt</strong></td><td>Date de création</td></tr><tr><td><strong>metadata.lastUpdatedBy</strong></td><td>Dernier utilisateur qui a modifié l&#39;identité</td></tr><tr><td><strong>metadata.lastUpdatedAt</strong></td><td>Date de la dernière modification</td></tr></tbody></table><p>Champs concernant la fusion d&#39;identité</p><p>Quand il y a une fusion d&#39;identité l&#39;identité secondaire complète l&#39;identité primaire et est marquée à ne plus synchroniser.</p><table><thead><tr><th>Champ</th><th>Description</th></tr></thead><tbody><tr><td><strong>srcFusionId</strong></td><td>_id des identité fusionnée (dans l&#39;identité primaire)</td></tr><tr><td><strong>destFusionId</strong></td><td>_id de l&#39;identité fusionnée (dans l&#39;identité secondaire</td></tr><tr><td><strong>primaryEmployeeNumber</strong></td><td>employeeNumber principal (present dans l&#39;identité primaire)</td></tr><tr><td></td><td>Dans l&#39;identité secondaire son employeeNumber sera renommé F...</td></tr></tbody></table>`,34),l=[i];function o(p,c){return s(),e("div",null,l)}const h=t(n,[["render",o],["__file","filtres.html.vue"]]),m=JSON.parse(`{"path":"/Api/filtres.html","title":"Les filtres de recherches pour l'API","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Syntaxe des filtres à passer en paramètre dans l'url","slug":"syntaxe-des-filtres-a-passer-en-parametre-dans-l-url","link":"#syntaxe-des-filtres-a-passer-en-parametre-dans-l-url","children":[{"level":3,"title":"Syntaxe","slug":"syntaxe","link":"#syntaxe","children":[]},{"level":3,"title":"Les champs","slug":"les-champs","link":"#les-champs","children":[]},{"level":3,"title":"Les opérateurs","slug":"les-operateurs","link":"#les-operateurs","children":[]},{"level":3,"title":"Exemples","slug":"exemples","link":"#exemples","children":[]}]},{"level":2,"title":"Champs struturels","slug":"champs-struturels","link":"#champs-struturels","children":[]}],"git":{"updatedTime":1739798541000,"contributors":[{"name":"Alain Abbas","email":"alain.abbas@libertech.fr","commits":4}]},"filePathRelative":"Api/filtres.md"}`);export{h as comp,m as data};
