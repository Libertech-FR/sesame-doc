import{_ as e,c as a,o as s,a as n}from"./app-B5FBAFWN.js";const i={},l=n(`<h2 id="prerequis" tabindex="-1"><a class="header-anchor" href="#prerequis"><span>Prérequis</span></a></h2><ul><li>Linux Debian 12</li><li>Docker &gt;= version 26</li><li>Une machine ou VM avec l option CPU AVX ( Si vous êtes sur VMWARE consultez VMWARE-AVX.md)</li><li>make installé</li><li>curl installé</li></ul><h2 id="installation-des-prerequis" tabindex="-1"><a class="header-anchor" href="#installation-des-prerequis"><span>Installation des prérequis</span></a></h2><h3 id="installation-de-make-et-curl" tabindex="-1"><a class="header-anchor" href="#installation-de-make-et-curl"><span>Installation de make et curl</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">apt-get update </span>
<span class="line">apt-get install make</span>
<span class="line">apt-get install curl</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="installation-de-docker" tabindex="-1"><a class="header-anchor" href="#installation-de-docker"><span>Installation de docker</span></a></h3><p>Installez les paquets necessaires :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">apt-get install apt-transport-https ca-certificates gnupg lsb-release </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Ajoutez la clé du depot</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Ajoutez le depot dans les sources apt</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">echo \\</span>
<span class="line">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \\</span>
<span class="line">  $(lsb_release -cs) stable&quot; | tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mettez à jour les depots</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">apt-get update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Installez Docker</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">apt install docker-ce docker-ce-cli containerd.io</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Verifiez que docker est bien installé et démarré</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">docker ps </span>
<span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="installation-de-sesame" tabindex="-1"><a class="header-anchor" href="#installation-de-sesame"><span>Installation de sesame</span></a></h2><p>creer un repertoire pour accueillir l&#39;installation ( dans notre guide /data/sesame)</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">mkdir /data/sesame</span>
<span class="line">cd /data/sesame</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Excecutez le shell d installation en copiant cette ligne ci-dessous</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">curl -s https://raw.githubusercontent.com/Libertech-FR/sesame-exemple/main/install/install.sh&gt;./install.sh;bash ./install.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Repondez aux questions</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">Commande docker OK</span>
<span class="line">command make OK</span>
<span class="line">command curl OK</span>
<span class="line">Répertoire d&#39;installation (/data/sesame) :</span>
<span class="line">Url du serveur (http(s)://(nom|ip):http://192.168.0.1</span>
<span class="line">Nom de domaine des emails : mondomaine.fr</span>
<span class="line">Numero d&#39;etablissement SUPANN : 123456U</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Repertoire : Repertoire de l installation (par defaut où vous avez lancé le script)</li><li>Url du serveur : L&#39;url à appeler (adresse de la machine ou nom avec le protocole</li><li>Nom de domaine des emails : le nom de domaine pour la generation des emails dans l&#39;import Taiga</li><li>Numero d&#39;etablissement : cette valeur sera mise dans l&#39;attribut <strong>supannEtablissement</strong></li></ul><p>Après avoir télechargé les images le script vous demande :</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">[Nest] 63  - 30/05/2024 13:45:39     LOG [InstanceLoader] IdentitiesModule dependencies initialized</span>
<span class="line">[Nest] 63  - 30/05/2024 13:45:39     LOG [InstanceLoader] CliModule dependencies initialized</span>
<span class="line">[Nest] 63  - 30/05/2024 13:45:39     LOG [InstanceLoader] BackendsModule dependencies initialized</span>
<span class="line">[Nest] 63  - 30/05/2024 13:45:39     LOG [InstanceLoader] AuthModule dependencies initialized</span>
<span class="line">? Username ? admin</span>
<span class="line">? Email ? monemail@domaine.fr</span>
<span class="line">? Password ? [input is hidden] </span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>le couple username et password seront le login de l&#39;administrateur sur l&#39;interface</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">Parametres de connexion à TAIGA</span>
<span class="line">-------------------------------</span>
<span class="line">URL TAIGA (https://taiga.archi.fr) :https://taiga.archi.fr</span>
<span class="line">PORT (443) : 443</span>
<span class="line">UTILISATEUR TAIGA :monlogintaiga</span>
<span class="line">MOT DE PASSE : monpasswdtaiga</span>
<span class="line">MOT DE PAS ENSA : monmdpensataiga</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Renseignez vos identifiants pour la connexion taiga</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">------------------------------</span>
<span class="line">L&#39;installation est terminée</span>
<span class="line">Vous pouvez vous connecter à l interface via http://10.22.32.66:3000</span>
<span class="line">Pour lancer l&#39;importation taiga dans le repertoire /data/sesame lancez la commande make sesame-import-taiga</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>Sesame est installé</em> vous pouvez lancer votre premier import taiga</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">make sesame-import-taiga</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>L&#39;etape suivante est l&#39;installation des backends</p>`,35),t=[l];function d(r,c){return s(),a("div",null,t)}const o=e(i,[["render",d],["__file","installation-server.html.vue"]]),u=JSON.parse('{"path":"/installation/installation-server.html","title":"Installation rapide","lang":"en-US","frontmatter":{"lang":"en-US","title":"Installation rapide","description":"Installation de sesame"},"headers":[{"level":2,"title":"Prérequis","slug":"prerequis","link":"#prerequis","children":[]},{"level":2,"title":"Installation des prérequis","slug":"installation-des-prerequis","link":"#installation-des-prerequis","children":[{"level":3,"title":"Installation de make et curl","slug":"installation-de-make-et-curl","link":"#installation-de-make-et-curl","children":[]},{"level":3,"title":"Installation de docker","slug":"installation-de-docker","link":"#installation-de-docker","children":[]}]},{"level":2,"title":"Installation de sesame","slug":"installation-de-sesame","link":"#installation-de-sesame","children":[]}],"git":{"updatedTime":1717688126000,"contributors":[{"name":"Alain Abbas","email":"alain.abbas@libertech.fr","commits":1}]},"filePathRelative":"installation/installation-server.md"}');export{o as comp,u as data};
